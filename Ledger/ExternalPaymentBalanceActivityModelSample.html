<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c19{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:0pt;border-right-width:0pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:419.2pt;border-top-color:#ffffff;border-bottom-style:solid}.c23{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:432pt;border-top-color:#000000;border-bottom-style:solid}.c16{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:419.2pt;border-top-color:#000000;border-bottom-style:solid}.c12{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:261.8pt;border-top-color:#000000;border-bottom-style:solid}.c24{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:507pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:270.8pt;border-top-color:#000000;border-bottom-style:solid}.c21{padding-top:20pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c7{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c2{color:#ffffff;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Courier New";font-style:normal}.c22{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Arial";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.38;orphans:2;widows:2;text-align:left}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.2;orphans:2;widows:2;text-align:left}.c15{font-size:9pt;font-family:"Courier New";color:#ffffff;font-weight:400}.c17{color:#000000;font-weight:400;font-size:11pt;font-family:"Arial"}.c25{color:#000000;font-weight:400;font-size:26pt;font-family:"Arial"}.c13{font-size:10pt;font-family:"Courier New";color:#00ff00;font-weight:400}.c9{border-spacing:0;border-collapse:collapse;margin-right:auto}.c18{color:#000000;font-weight:400;font-size:20pt;font-family:"Arial"}.c10{font-size:10pt;font-family:"Courier New";color:#ffffff;font-weight:400}.c20{background-color:#ffffff;max-width:720pt;padding:36pt 36pt 36pt 36pt}.c14{text-decoration:none;vertical-align:baseline;font-style:normal}.c3{height:24pt}.c6{height:333pt}.c27{height:378pt}.c11{height:23.2pt}.c5{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c20 doc-content"><p class="c22 title" id="h.ycq4sakuywuy"><span class="c14 c25">Payment Balance Activity Model Sample</span></p><p class="c1 c5"><span class="c17 c14"></span></p><p class="c1"><span class="c17 c14">This is a model to provide a history of balance activities that have posted to a balance, and also to show pending activities that have not yet posted, but are in progress. &nbsp;For example, this would be the state of payments after they are received by the balance system, but before risk has cleared them for payout. &nbsp;Pending activities would be especially useful if the seller is getting a smaller deposit then they expect but don&#39;t see balance activities to explain why they took payments but they are not part of the balance. We are not planning to include a running balance for pending balance activities - the Payment Balances API will only include a running balance for a balance activity that posts.</span></p><h1 class="c7" id="h.wr1y9z8vqhtj"><span>Get a list of all (posted) balance activities</span></h1><p class="c1"><span>Request:</span></p><a id="t.1bbb2793117c2921f6f935cae36c7020e1fe2fa3"></a><a id="t.0"></a><table class="c9"><tr class="c3"><td class="c12" colspan="1" rowspan="1"><p class="c4"><span class="c10">GET &hellip;/balance/activities</span></p></td></tr></table><p class="c0 c5"><span class="c8"></span></p><p class="c1"><span>Response:</span></p><a id="t.0e9a66baa562f30922776a9fd17eb8a604b295c2"></a><a id="t.1"></a><table class="c9"><tr class="c27"><td class="c19" colspan="1" rowspan="1"><p class="c4"><span class="c2">{ activities: [{</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;id&quot;: &quot;XTSr1dmrAkc0qK9aVBc9xI26MQT1a0aae_UTX55g&quot;,</span></p><p class="c0"><span class="c13">&nbsp;</span><span class="c2">&nbsp; &quot;pending_activity_id&quot;:&quot;dcLY9ffMAkc0qK9aVBc9xI26MQT1a0aae_UTX55g&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;account_id&quot;: &quot;pba_56214fb2-cc85-47a1-93bc-44f3766bb56f&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;created_at&quot;: &quot;2021-02-03T21:53:10Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;originated_at&quot;: &quot;2021-02-03T21:53:08Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;net_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: 3880,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;fee_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: 120,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;gross_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: 4000,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;running_balance_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: 8880,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;type&quot;: &quot;PAYMENT&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;type_payment_details&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;payment_id&quot;: &quot;dcLY9ffMlRZlFtfIQblDpUSKuaB&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;}</span></p><p class="c0"><span class="c2">}]}</span></p></td></tr></table><p class="c0 c5"><span class="c8"></span></p><p class="c1"><span>We&rsquo;d also provide a single balance activity retrieval end-point:</span></p><a id="t.83533ca74675c32c8b68bd9dafdc3a35ffd4f5da"></a><a id="t.2"></a><table class="c9"><tr class="c3"><td class="c26" colspan="1" rowspan="1"><p class="c4"><span class="c2">GET &hellip;/balance/activities/:id</span></p></td></tr></table><h1 class="c7" id="h.gwm67pvklko9"><span class="c18 c14">Get a list of all pending activities</span></h1><p class="c1"><span class="c17 c14">This would load only the open, or active, pending activities, not ones that have already posted.</span></p><p class="c1 c5"><span class="c17 c14"></span></p><p class="c1"><span>Request:</span></p><a id="t.7e601f896533ffc37143abdf589368e5bd6acdeb"></a><a id="t.3"></a><table class="c9"><tr class="c3"><td class="c12" colspan="1" rowspan="1"><p class="c4"><span class="c10">GET &hellip;/balance/pending_activities</span></p></td></tr></table><p class="c0 c5"><span class="c8"></span></p><p class="c1"><span>Response:</span></p><a id="t.1dbfc46aa5c1dd2af2db6598448e11890d59b8b6"></a><a id="t.4"></a><table class="c9"><tr class="c6"><td class="c16" colspan="1" rowspan="1"><p class="c4"><span class="c2">{ pending_activities: [{</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;id&quot;: &quot;XTSr1dmrAkc0qK9aVBMzhW3mcXTxiFRWJgW-LKjQ&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;account_id&quot;: &quot;pba_56214fb2-cc85-47a1-93bc-44f3766bb56f&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;created_at&quot;: &quot;2021-03-11T12:25:17Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;updated_at&quot;: &quot;2021-03-11T12:25:17Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;originated_at&quot;: &quot;2021-03-11T12:25:17Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;status&quot;: &quot;OPEN&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;net_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: -2425,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;fee_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: -75,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;gross_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: -2500,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;type&quot;: &quot;PAYMENT&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;type_payment_details&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;payment_id&quot;: &quot;RuFpmDuRnu5DpdCdL4oWQXFBYrUZY&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;refund_id&quot;: &quot;zH76lLZ5O8rV2fp7VU9NXkQC3meW64DO2jV3llrh6sW&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;}</span></p><p class="c0"><span class="c2">}]}</span></p></td></tr></table><p class="c0 c5"><span class="c8"></span></p><h1 class="c21" id="h.oq8xypthu7i3"><span class="c14 c18">Get a single pending activity</span></h1><p class="c1"><span>This could load even a closed pending activity, which would be one that had already posted a balance activity, or could be one that had been canceled and not resulted in any balance activity. &nbsp;This would allow you to follow up on a pending activity and be sure of being able to see it, even after it has resolved.</span></p><p class="c0 c5"><span class="c8"></span></p><p class="c1"><span>Request:</span></p><a id="t.8e77ea47d24e510e29ea9642f1fd0ace6dd7c348"></a><a id="t.5"></a><table class="c9"><tr class="c3"><td class="c23" colspan="1" rowspan="1"><p class="c4"><span class="c10">GET &hellip;/balance/pending_activities/dcLY9ffMAkc0qK9aVBc9xI26MQT1a0aae_UTX55g</span></p></td></tr></table><p class="c0 c5"><span class="c8"></span></p><p class="c1"><span class="c17 c14">Response:</span></p><a id="t.c0e29adf377f2960fc9fa4a0973c1e8231a8483d"></a><a id="t.6"></a><table class="c9"><tr class="c6"><td class="c16" colspan="1" rowspan="1"><p class="c4"><span class="c2">{ pending_activities: [{</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;id&quot;: &quot;dcLY9ffMAkc0qK9aVBc9xI26MQT1a0aae_UTX55g&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;account_id&quot;: &quot;pba_56214fb2-cc85-47a1-93bc-44f3766bb56f&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;created_at&quot;: &quot;2021-02-03T21:53:09Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;updated_at&quot;: &quot;2021-02-03T21:53:10Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;originated_at&quot;: &quot;2021-02-03T21:53:08Z&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;status&quot;: &quot;POSTED&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;net_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: 3880,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;fee_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: 120,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;gross_amount_money&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;amount&quot;: 4000,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;},</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;type&quot;: &quot;PAYMENT&quot;,</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;&quot;type_payment_details&quot;: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &quot;payment_id&quot;: &quot;dcLY9ffMlRZlFtfIQblDpUSKuaB&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp;}</span></p><p class="c0 c5"><span class="c2"></span></p><p class="c0"><span class="c2">}]}</span></p></td></tr></table><p class="c0 c5"><span class="c8"></span></p><p class="c1"><span class="c17 c14">This mock request is imagining that we load the pending_balance_id from our original balance activity example. &nbsp;Here we see that though the balance activity was created at (posted at) 21:53:10, the pending balance activity was created at (pended at) 21:53:09 (and the payment that caused this activity originated in Square&rsquo;s system at 21:53:08 &ndash; it&rsquo;s that time that will be compared to the close of day configuration to determine which &ldquo;day&rdquo; the activity is grouped with.)</span></p><p class="c1 c5"><span class="c17 c14"></span></p><p class="c1"><span class="c14 c17">Note that this model treats &ldquo;pending activity&rdquo; and &ldquo;balance activity&rdquo; as distinct objects with distinct ids. &nbsp;The balance activity is immutable and created only once. &nbsp;The pending activity is mutable and transitions from an OPEN state to either a POSTED or CLOSED state. &nbsp;Upon posting it creates a balance activity object, and leaves its pending_balance_activity_id stamped on it, so that you can match it to a previously seen pending activity. &nbsp;It is even possible that the pending activity has an original amount, but then upon posting the amount is changed to a different, final amount. &nbsp;In that case, should the pending activity still have the original amount, or should it also be updated to match the final amount on the balance activity?</span></p><p class="c0 c5"><span class="c8"></span></p><p class="c1"><span>If it would be helpful, we could also enable searching the balance activities by pending activity id.</span></p><a id="t.0800f08f6ac5678c84301d48fc99dc76f9335b3b"></a><a id="t.7"></a><table class="c9"><tr class="c11"><td class="c24" colspan="1" rowspan="1"><p class="c4"><span class="c15">GET &hellip;/balance/activities?pending_activity_id=</span><span class="c10">dcLY9ffMAkc0qK9aVBc9xI26MQT1a0aae_UTX55g</span></p></td></tr></table><p class="c1 c5"><span class="c17 c14"></span></p></body></html>
